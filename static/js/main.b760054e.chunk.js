(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var o,n=c(0),l=c(25),r=c.n(l),a=c(13),i=c(5),s=c(2),u=c(21),d=c.n(u);!function(e){e.All="/",e.Active="/active",e.Completed="/completed"}(o||(o={}));var j=c(3),m=[{title:"All",to:o.All},{title:"Active",to:o.Active},{title:"Completed",to:o.Completed}],f=function(e){var t=e.todos,c=e.setTodos,o=e.amountCompletedTodos;return Object(j.jsxs)("footer",{className:"footer",children:[Object(j.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(t.length-o," items left")}),Object(j.jsx)("ul",{className:"filters","data-cy":"todosFilter",children:m.map((function(e){var t=e.title,c=e.to;return Object(j.jsx)("li",{children:Object(j.jsx)(a.b,{to:c,className:function(e){var t=e.isActive;return d()({selected:t})},replace:!0,children:t})},t)}))}),t.some((function(e){return!0===e.completed}))&&Object(j.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){var e=t.filter((function(e){return!0===e.completed}));c.remove(e.map((function(e){return e.id})))},children:"Clear completed"})]})},b=function(e){var t=e.setTodos,c=Object(n.useState)(""),o=Object(i.a)(c,2),l=o[0],r=o[1],a=Object(n.useRef)(null);Object(n.useEffect)((function(){var e;null===(e=a.current)||void 0===e||e.focus()}),[]);return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("h1",{children:"todos"}),Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),l.trim()&&t.add({id:Date.now(),completed:!1,title:l}),r("")},children:Object(j.jsx)("input",{ref:a,type:"text","data-cy":"createTodo",className:"new-todo",placeholder:"What needs to be done?",value:l,onChange:function(e){r(e.target.value)}})})]})},p=c(10),O=c(7),v=function(e){var t=e.todo,c=e.setTodos,o=e.changeTitle,l=e.setChangeTitle,r=Object(n.useState)(t.title),a=Object(i.a)(r,2),s=a[0],u=a[1],d=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e;return null===(e=d.current)||void 0===e?void 0:e.focus()}),[o]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"view",children:[Object(j.jsx)("input",{type:"checkbox",className:"toggle",checked:t.completed,onClick:function(e){var o;e.stopPropagation(),o=t,c.toggle([Object(p.a)(Object(p.a)({},o),{},{completed:!t.completed})])}}),Object(j.jsx)("p",{onDoubleClick:function(){return e=t.id,l(e);var e},children:t.title}),Object(j.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo",onClick:function(){return e=t.id,void c.remove([e]);var e}})]}),Object(j.jsx)("input",{ref:d,type:"text",id:"toggle-view",className:"edit",value:s,onChange:function(e){return u(e.target.value)},onKeyUp:function(e){if("Enter"===e.key)return s.trim()?(c.toggle([Object(p.a)(Object(p.a)({},t),{},{title:s})]),void l(null)):(c.remove([t.id]),void l(null));"Escape"===e.key&&(u(t.title),l(null))},onBlur:function(){l(null)}})]})},h=function(e){var t=e.todos,c=e.setTodos,o=e.isCompletedTodo,l=Object(n.useState)(null),r=Object(i.a)(l,2),a=r[0],s=r[1];return Object(j.jsxs)("section",{className:"main",children:[Object(j.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",checked:o,onClick:function(){var e=t.filter((function(e){return!1===e.completed}));e.length||(e=Object(O.a)(t)),c.toggle(e.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{completed:!e.completed})})))}}),Object(j.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(j.jsx)("ul",{className:"todo-list","data-cy":"todosList",children:t.map((function(e){return Object(j.jsx)("li",{className:d()({completed:e.completed},{editing:a===e.id}),children:Object(j.jsx)(v,{todo:e,setTodos:c,setChangeTitle:s,changeTitle:a})},e.id)}))})]})},g=function(){var e,t,c=function(e){var t=Object(n.useState)((function(){return JSON.parse(window.localStorage.getItem(e)||"[]")})),c=Object(i.a)(t,2),o=c[0],l=c[1],r=function(t){l(t),window.localStorage.setItem(e,JSON.stringify(t))},a={add:function(e){r([].concat(Object(O.a)(o),[e]))},remove:function(e){var t=o.filter((function(t){var c=t.id;return!e.includes(c)}));r(t)},toggle:function(e){var t=o.map((function(t){return e.find((function(e){return e.id===t.id}))||t}));r(t)}};return[o,a]}("todos"),l=Object(i.a)(c,2),r=l[0],a=l[1],u=Object(n.useMemo)((function(){return r.reduce((function(e,t){return t.completed?e+1:e}),0)}),[r]),d=Object(s.i)().pathname,m=Object(n.useMemo)((function(){return!r.some((function(e){return!1===e.completed}))}),[r]),p=(e=r,(t=d)===o.All?e:e.filter((function(e){var c=e.completed;switch(t){case o.Active:return!1===c;case o.Completed:return!0===c;default:return!1}})));return Object(j.jsxs)("div",{className:"todoapp",children:[Object(j.jsx)(b,{setTodos:a}),!r.length||Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{isCompletedTodo:m,todos:p,setTodos:a}),Object(j.jsx)(f,{todos:r,setTodos:a,amountCompletedTodos:u})]})]})};c(32),c(33),c(34);r.a.render(Object(j.jsx)(a.a,{children:Object(j.jsx)(g,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.b760054e.chunk.js.map