(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{32:function(t,e,o){},33:function(t,e,o){"use strict";o.r(e);var n,c=o(0),l=o(25),i=o.n(l),s=o(13),r=o(5),a=o(2),d=o(21),u=o.n(d);!function(t){t.All="/",t.Active="/active",t.Completed="/completed"}(n||(n={}));var j=o(3),m=[{title:"All",to:n.All},{title:"Active",to:n.Active},{title:"Completed",to:n.Completed}],p=function(t){var e=t.todos,o=t.setTodos,n=t.amountCompletedTodos;return Object(j.jsxs)("footer",{className:"footer",children:[Object(j.jsxs)("p",{className:"footer__todoCount","data-cy":"todosCounter",children:[Object(j.jsx)("strong",{children:e.length-n})," items left"]}),Object(j.jsx)("ul",{className:"filters","data-cy":"todosFilter",children:m.map((function(t){var e=t.title,o=t.to;return Object(j.jsx)("li",{className:"filters__list",children:Object(j.jsx)(s.b,{to:o,className:function(t){var e=t.isActive;return u()("filters__link",{"filters__link--selected":e})},replace:!0,children:e})},e)}))}),e.some((function(t){return!0===t.completed}))&&Object(j.jsx)("button",{type:"button",className:"button button--clearCompleted",onClick:function(){var t=e.filter((function(t){return!0===t.completed}));o.remove(t.map((function(t){return t.id})))},children:"Clear completed"})]})},b=function(t){var e=t.setTodos,o=Object(c.useState)(""),n=Object(r.a)(o,2),l=n[0],i=n[1],s=Object(c.useRef)(null);Object(c.useEffect)((function(){var t;null===(t=s.current)||void 0===t||t.focus()}),[]);return Object(j.jsxs)("header",{children:[Object(j.jsx)("h1",{className:"todoapp__title",children:"todos"}),Object(j.jsx)("form",{onSubmit:function(t){t.preventDefault(),l.trim()&&e.add({id:Date.now(),completed:!1,title:l}),i("")},children:Object(j.jsx)("input",{ref:s,type:"text","data-cy":"createTodo",className:"input input--newTodo",placeholder:"What needs to be done?",value:l,onChange:function(t){i(t.target.value)}})})]})},f=o(10),O=o(7),g=function(t){var e=t.todo,o=t.setTodos,n=t.changeTitle,l=t.setChangeTitle,i=Object(c.useState)(e.title),s=Object(r.a)(i,2),a=s[0],d=s[1],u=Object(c.useRef)(null);return Object(c.useEffect)((function(){var t;return null===(t=u.current)||void 0===t?void 0:t.focus()}),[n]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"todoList__view",children:[Object(j.jsx)("input",{type:"checkbox",className:"input input--toggle todoList__toggle",checked:e.completed,onClick:function(t){var n;t.stopPropagation(),n=e,o.toggle([Object(f.a)(Object(f.a)({},n),{},{completed:!e.completed})])}}),Object(j.jsx)("p",{className:"todoList__toggleLabel",onDoubleClick:function(){return t=e.id,l(t);var t},children:e.title}),Object(j.jsx)("button",{type:"button",className:"button button--destroy todoList__destroy","data-cy":"deleteTodo",onClick:function(){return t=e.id,void o.remove([t]);var t}})]}),Object(j.jsx)("input",{ref:u,type:"text",id:"toggle-view",className:"input input--edit todoList__edit",value:a,onChange:function(t){return d(t.target.value)},onKeyUp:function(t){if("Enter"===t.key)return a.trim()?(o.toggle([Object(f.a)(Object(f.a)({},e),{},{title:a})]),void l(null)):(o.remove([e.id]),void l(null));"Escape"===t.key&&(d(e.title),l(null))},onBlur:function(){l(null)}})]})},v=function(t){var e=t.todos,o=t.setTodos,n=t.isCompletedTodo,l=Object(c.useState)(null),i=Object(r.a)(l,2),s=i[0],a=i[1];return Object(j.jsxs)("section",{className:"mainTodos",children:[Object(j.jsx)("input",{type:"checkbox",id:"toggle-all",className:"input input--toggleAll mainTodos__toggleAll","data-cy":"toggleAll",checked:n,onClick:function(){var t=e.filter((function(t){return!1===t.completed}));t.length||(t=Object(O.a)(e)),o.toggle(t.map((function(t){return Object(f.a)(Object(f.a)({},t),{},{completed:!t.completed})})))}}),Object(j.jsx)("label",{className:"mainTodos__label",htmlFor:"toggle-all",children:"Mark all as complete"}),Object(j.jsx)("ul",{className:"todo-list * todoList","data-cy":"todosList",children:e.map((function(t){return Object(j.jsx)("li",{className:u()("todoList__item",{"todoList__item--completed":t.completed},{"todoList__item--editing":s===t.id}),children:Object(j.jsx)(g,{todo:t,setTodos:o,setChangeTitle:a,changeTitle:s})},t.id)}))})]})},h=function(){var t,e,o=function(t){var e=Object(c.useState)((function(){return JSON.parse(window.localStorage.getItem(t)||"[]")})),o=Object(r.a)(e,2),n=o[0],l=o[1],i=function(e){l(e),window.localStorage.setItem(t,JSON.stringify(e))},s={add:function(t){i([].concat(Object(O.a)(n),[t]))},remove:function(t){var e=n.filter((function(e){var o=e.id;return!t.includes(o)}));i(e)},toggle:function(t){var e=n.map((function(e){return t.find((function(t){return t.id===e.id}))||e}));i(e)}};return[n,s]}("todos"),l=Object(r.a)(o,2),i=l[0],s=l[1],d=Object(c.useMemo)((function(){return i.reduce((function(t,e){return e.completed?t+1:t}),0)}),[i]),u=Object(a.i)().pathname,m=Object(c.useMemo)((function(){return!i.some((function(t){return!1===t.completed}))}),[i]),f=(t=i,(e=u)===n.All?t:t.filter((function(t){var o=t.completed;switch(e){case n.Active:return!1===o;case n.Completed:return!0===o;default:return!1}})));return Object(j.jsxs)("div",{className:"todoapp",children:[Object(j.jsx)(b,{setTodos:s}),!i.length||Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(v,{isCompletedTodo:m,todos:f,setTodos:s}),Object(j.jsx)(p,{todos:i,setTodos:s,amountCompletedTodos:d})]})]})};o(32);i.a.render(Object(j.jsx)(s.a,{children:Object(j.jsx)(h,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.e64370ab.chunk.js.map